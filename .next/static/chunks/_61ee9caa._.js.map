{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/nisha/Desktop/hms/untitled%20folder/project/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = 'https://zusheijhebsmjiyyeiqq.supabase.co';\nconst supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp1c2hlaWpoZWJzbWppeXllaXFxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE4MjI0NDAsImV4cCI6MjA2NzM5ODQ0MH0.iwGPaOJPa6OvwX_iA1xvRt5cM72DWfd8Br1pwRTemRc';\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n\nexport const signInWithEmail = async (email: string, password: string) => {\n  const { data, error } = await supabase.auth.signInWithPassword({\n    email,\n    password,\n  });\n  return { data, error };\n};\n\nexport const signUpWithEmail = async (email: string, password: string) => {\n  const { data, error } = await supabase.auth.signUp({\n    email,\n    password,\n    options: {\n      emailRedirectTo: `${window.location.origin}/auth/callback`,\n    },\n  });\n  return { data, error };\n};\n\n// Function to create admin user without email confirmation\nexport const createAdminUser = async (email: string, password: string) => {\n  const { data, error } = await supabase.auth.signUp({\n    email,\n    password,\n    options: {\n      emailRedirectTo: `${window.location.origin}/auth/callback`,\n      data: {\n        email_confirm: true,\n      },\n    },\n  });\n  return { data, error };\n};\n\nexport const signOut = async () => {\n  await supabase.auth.signOut();\n};\n\nexport const getCurrentUser = async () => {\n  const { data: { user } } = await supabase.auth.getUser();\n  return user;\n};\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA,MAAM,cAAc;AACpB,MAAM,kBAAkB;AAEjB,MAAM,WAAW,CAAA,GAAA,0LAAA,CAAA,eAAY,AAAD,EAAE,aAAa;AAE3C,MAAM,kBAAkB,OAAO,OAAe;IACnD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,kBAAkB,CAAC;QAC7D;QACA;IACF;IACA,OAAO;QAAE;QAAM;IAAM;AACvB;AAEO,MAAM,kBAAkB,OAAO,OAAe;IACnD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,MAAM,CAAC;QACjD;QACA;QACA,SAAS;YACP,iBAAiB,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC;QAC5D;IACF;IACA,OAAO;QAAE;QAAM;IAAM;AACvB;AAGO,MAAM,kBAAkB,OAAO,OAAe;IACnD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,MAAM,CAAC;QACjD;QACA;QACA,SAAS;YACP,iBAAiB,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC;YAC1D,MAAM;gBACJ,eAAe;YACjB;QACF;IACF;IACA,OAAO;QAAE;QAAM;IAAM;AACvB;AAEO,MAAM,UAAU;IACrB,MAAM,SAAS,IAAI,CAAC,OAAO;AAC7B;AAEO,MAAM,iBAAiB;IAC5B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IACtD,OAAO;AACT","debugId":null}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file:///Users/nisha/Desktop/hms/untitled%20folder/project/src/lib/supabase-patient.ts"],"sourcesContent":["import { supabase } from './supabase';\n\nexport interface PatientRegistrationData {\n  // Basic Information\n  name: string;\n  dateOfBirth: string;\n  gender: string;\n  phone: string;\n  email?: string;\n  address?: string;\n  \n  // Emergency Contact\n  emergencyContactName?: string;\n  emergencyContactPhone?: string;\n  \n  // Medical Information\n  bloodGroup?: string;\n  allergies?: string;\n  medicalHistory?: string;\n  \n  // Insurance (Optional)\n  insuranceNumber?: string;\n  insuranceProvider?: string;\n  \n  // Visit Information\n  purposeOfVisit: string;\n  symptoms?: string;\n  doctorId: string;\n  appointmentType: string;\n  preferredTime?: string;\n}\n\nexport interface VitalsData {\n  systolicBP?: number;\n  diastolicBP?: number;\n  heartRate?: number;\n  temperature?: number;\n  temperatureUnit?: 'celsius' | 'fahrenheit';\n  respiratoryRate?: number;\n  oxygenSaturation?: number;\n  weight?: number;\n  height?: number;\n  bloodSugar?: number;\n  notes?: string;\n}\n\nexport interface Patient {\n  id: string;\n  uhid: string;\n  name: string;\n  dateOfBirth: string;\n  gender: string;\n  phone: string;\n  email?: string;\n  bloodGroup?: string;\n  status: string;\n}\n\n// Generate unique UHID\nexport async function generateUHID(): Promise<string> {\n  const year = new Date().getFullYear();\n  let uhid = '';\n  let isUnique = false;\n  \n  while (!isUnique) {\n    const randomNum = Math.floor(Math.random() * 9000) + 1000;\n    uhid = `AH${year}${randomNum}`;\n    \n    // Check if UHID already exists\n    const { data, error } = await supabase\n      .from('patients')\n      .select('patient_id')\n      .eq('patient_id', uhid)\n      .single();\n    \n    if (error && error.code === 'PGRST116') {\n      // No matching rows found, UHID is unique\n      isUnique = true;\n    } else if (error) {\n      throw new Error('Error checking UHID uniqueness');\n    }\n  }\n  \n  return uhid;\n}\n\n// Create patient authentication account\nexport async function createPatientAuth(uhid: string, email: string): Promise<string> {\n  const { data, error } = await supabase.auth.signUp({\n    email: email,\n    password: 'password', // Default password\n    options: {\n      data: {\n        uhid: uhid,\n        role: 'patient'\n      }\n    }\n  });\n  \n  if (error) {\n    throw new Error(`Error creating patient auth: ${error.message}`);\n  }\n  \n  return data.user?.id || '';\n}\n\n// Register new patient\nexport async function registerPatient(patientData: PatientRegistrationData): Promise<{\n  patient: Patient;\n  appointment: any;\n  uhid: string;\n  patientEmail: string;\n}> {\n  try {\n    // Generate UHID\n    const uhid = await generateUHID();\n    const patientEmail = `${uhid.toLowerCase()}@annam.com`;\n    \n    // Create patient authentication\n    const authId = await createPatientAuth(uhid, patientEmail);\n    \n    // Calculate age\n    const birthDate = new Date(patientData.dateOfBirth);\n    const today = new Date();\n    let age = today.getFullYear() - birthDate.getFullYear();\n    const monthDiff = today.getMonth() - birthDate.getMonth();\n    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {\n      age--;\n    }\n    \n    // Insert patient record\n    const { data: patientRecord, error: patientError } = await supabase\n      .from('patients')\n      .insert([{\n        patient_id: uhid,\n        name: patientData.name,\n        date_of_birth: patientData.dateOfBirth,\n        gender: patientData.gender,\n        phone: patientData.phone,\n        email: patientData.email || patientEmail,\n        address: patientData.address,\n        emergency_contact_name: patientData.emergencyContactName,\n        emergency_contact_phone: patientData.emergencyContactPhone,\n        blood_group: patientData.bloodGroup,\n        allergies: patientData.allergies,\n        medical_history: patientData.medicalHistory,\n        insurance_number: patientData.insuranceNumber,\n        insurance_provider: patientData.insuranceProvider,\n        status: 'active'\n      }])\n      .select()\n      .single();\n    \n    if (patientError) {\n      throw new Error(`Error creating patient: ${patientError.message}`);\n    }\n    \n    // Create appointment if doctor is selected\n    let appointmentRecord = null;\n    if (patientData.doctorId) {\n      const appointmentId = `APT${Date.now()}`;\n      const appointmentDate = patientData.preferredTime \n        ? new Date(patientData.preferredTime).toISOString().split('T')[0]\n        : new Date().toISOString().split('T')[0];\n      const appointmentTime = patientData.preferredTime \n        ? new Date(patientData.preferredTime).toTimeString().split(' ')[0]\n        : '10:00:00';\n      \n      // Get receptionist user ID\n      const { data: receptionistUser } = await supabase\n        .from('users')\n        .select('id')\n        .eq('role', 'receptionist')\n        .single();\n      \n      const { data: appointment, error: appointmentError } = await supabase\n        .from('appointments')\n        .insert([{\n          appointment_id: appointmentId,\n          patient_id: patientRecord.id,\n          doctor_id: patientData.doctorId,\n          appointment_date: appointmentDate,\n          appointment_time: appointmentTime,\n          type: patientData.appointmentType,\n          status: 'scheduled',\n          notes: patientData.purposeOfVisit,\n          symptoms: patientData.symptoms,\n          created_by: receptionistUser?.id\n        }])\n        .select()\n        .single();\n      \n      if (appointmentError) {\n        console.error('Error creating appointment:', appointmentError);\n        // Don't throw error here as patient is already created\n      } else {\n        appointmentRecord = appointment;\n      }\n    }\n    \n    return {\n      patient: patientRecord,\n      appointment: appointmentRecord,\n      uhid,\n      patientEmail\n    };\n    \n  } catch (error) {\n    console.error('Error in registerPatient:', error);\n    throw error;\n  }\n}\n\n// Record patient vitals\nexport async function recordVitals(patientId: string, vitalsData: VitalsData): Promise<any> {\n  try {\n    // For now, we'll store vitals in the patient's medical history\n    // In a real system, you might want a separate vitals table\n    const vitalsRecord = {\n      patient_id: patientId,\n      recorded_at: new Date().toISOString(),\n      systolic_bp: vitalsData.systolicBP,\n      diastolic_bp: vitalsData.diastolicBP,\n      heart_rate: vitalsData.heartRate,\n      temperature: vitalsData.temperature,\n      temperature_unit: vitalsData.temperatureUnit,\n      respiratory_rate: vitalsData.respiratoryRate,\n      oxygen_saturation: vitalsData.oxygenSaturation,\n      weight: vitalsData.weight,\n      height: vitalsData.height,\n      blood_sugar: vitalsData.bloodSugar,\n      notes: vitalsData.notes,\n      recorded_by: 'Monica (Receptionist)'\n    };\n    \n    // Update patient's medical history with vitals\n    const { data: patient, error: fetchError } = await supabase\n      .from('patients')\n      .select('medical_history')\n      .eq('id', patientId)\n      .single();\n    \n    if (fetchError) {\n      throw new Error(`Error fetching patient: ${fetchError.message}`);\n    }\n    \n    const currentHistory = patient.medical_history || '';\n    const vitalsEntry = `\\n[${new Date().toLocaleDateString()}] Vitals recorded by Monica:\\n${JSON.stringify(vitalsRecord, null, 2)}`;\n    const updatedHistory = currentHistory + vitalsEntry;\n    \n    const { data: updatedPatient, error: updateError } = await supabase\n      .from('patients')\n      .update({ medical_history: updatedHistory })\n      .eq('id', patientId)\n      .select()\n      .single();\n    \n    if (updateError) {\n      throw new Error(`Error updating patient vitals: ${updateError.message}`);\n    }\n    \n    return updatedPatient;\n    \n  } catch (error) {\n    console.error('Error in recordVitals:', error);\n    throw error;\n  }\n}\n\n// Search patients by UHID, name, or phone\nexport async function searchPatients(query: string): Promise<Patient[]> {\n  try {\n    const { data, error } = await supabase\n      .from('patients')\n      .select('id, patient_id, name, date_of_birth, gender, phone, email, blood_group, status')\n      .or(`patient_id.ilike.%${query}%,name.ilike.%${query}%,phone.ilike.%${query}%`)\n      .eq('status', 'active')\n      .order('name');\n    \n    if (error) {\n      throw new Error(`Error searching patients: ${error.message}`);\n    }\n    \n    return data?.map(patient => ({\n      id: patient.id,\n      uhid: patient.patient_id,\n      name: patient.name,\n      dateOfBirth: patient.date_of_birth,\n      gender: patient.gender,\n      phone: patient.phone,\n      email: patient.email,\n      bloodGroup: patient.blood_group,\n      status: patient.status\n    })) || [];\n    \n  } catch (error) {\n    console.error('Error in searchPatients:', error);\n    throw error;\n  }\n}\n\n// Get available doctors\nexport async function getAvailableDoctors(): Promise<any[]> {\n  try {\n    const { data, error } = await supabase\n      .from('users')\n      .select(`\n        id, \n        name, \n        specialization,\n        doctors (\n          consultation_fee,\n          availability_hours,\n          status\n        )\n      `)\n      .eq('role', 'doctor')\n      .eq('status', 'active')\n      .order('name');\n    \n    if (error) {\n      throw new Error(`Error fetching doctors: ${error.message}`);\n    }\n    \n    return data?.map(doctor => ({\n      id: doctor.id,\n      name: doctor.name,\n      specialization: doctor.specialization,\n      consultation_fee: doctor.doctors?.[0]?.consultation_fee || '0',\n      availability_hours: doctor.doctors?.[0]?.availability_hours,\n      status: doctor.doctors?.[0]?.status || 'active'\n    })) || [];\n    \n  } catch (error) {\n    console.error('Error in getAvailableDoctors:', error);\n    throw error;\n  }\n}\n\n// Get patient by UHID\nexport async function getPatientByUHID(uhid: string): Promise<Patient | null> {\n  try {\n    const { data, error } = await supabase\n      .from('patients')\n      .select('id, patient_id, name, date_of_birth, gender, phone, email, blood_group, status')\n      .eq('patient_id', uhid)\n      .single();\n    \n    if (error) {\n      if (error.code === 'PGRST116') {\n        return null; // No patient found\n      }\n      throw new Error(`Error fetching patient: ${error.message}`);\n    }\n    \n    return {\n      id: data.id,\n      uhid: data.patient_id,\n      name: data.name,\n      dateOfBirth: data.date_of_birth,\n      gender: data.gender,\n      phone: data.phone,\n      email: data.email,\n      bloodGroup: data.blood_group,\n      status: data.status\n    };\n    \n  } catch (error) {\n    console.error('Error in getPatientByUHID:', error);\n    throw error;\n  }\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 322, "column": 0}, "map": {"version":3,"sources":["file:///Users/nisha/Desktop/hms/untitled%20folder/project/app/receptionist/register-patient/page.tsx"],"sourcesContent":["'use client';\nimport React, { useState, useEffect } from 'react';\nimport { registerPatient, getAvailableDoctors, generateUHID } from '@/src/lib/supabase-patient';\nimport { \n  User, \n  Calendar, \n  Phone, \n  MapPin, \n  Heart,\n  FileText,\n  Stethoscope,\n  Save,\n  ArrowLeft,\n  UserPlus,\n  AlertCircle,\n  CheckCircle\n} from 'lucide-react';\nimport Link from 'next/link';\n\ninterface Doctor {\n  id: string;\n  name: string;\n  specialization: string;\n  consultation_fee: string;\n}\n\nexport default function RegisterPatientPage() {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitStatus, setSubmitStatus] = useState<'idle' | 'success' | 'error'>('idle');\n  const [doctors, setDoctors] = useState<Doctor[]>([]);\n  const [generatedUHID, setGeneratedUHID] = useState('');\n  \n  const [formData, setFormData] = useState({\n    // Basic Information\n    name: '',\n    dateOfBirth: '',\n    gender: '',\n    phone: '',\n    email: '',\n    address: '',\n    \n    // Emergency Contact\n    emergencyContactName: '',\n    emergencyContactPhone: '',\n    \n    // Medical Information\n    bloodGroup: '',\n    allergies: '',\n    medicalHistory: '',\n    \n    // Insurance (Optional)\n    insuranceNumber: '',\n    insuranceProvider: '',\n    \n    // Visit Information\n    purposeOfVisit: '',\n    symptoms: '',\n    doctorId: '',\n    appointmentType: 'consultation',\n    preferredTime: ''\n  });\n\n  // Generate UHID on component mount\n  useEffect(() => {\n    generateUHIDAsync();\n    fetchDoctors();\n  }, []);\n\n  const generateUHIDAsync = async () => {\n    try {\n      const uhid = await generateUHID();\n      setGeneratedUHID(uhid);\n    } catch (error) {\n      console.error('Error generating UHID:', error);\n      // Fallback to local generation if database fails\n      const year = new Date().getFullYear();\n      const randomNum = Math.floor(Math.random() * 9000) + 1000;\n      setGeneratedUHID(`AH${year}${randomNum}`);\n    }\n  };\n\n  const fetchDoctors = async () => {\n    try {\n      const availableDoctors = await getAvailableDoctors();\n      setDoctors(availableDoctors);\n    } catch (error) {\n      console.error('Error fetching doctors:', error);\n      // Fallback to hardcoded doctors if database fails\n      setDoctors([\n        { id: \"f5b417bb-4136-4054-a00d-a68ab066e54c\", name: \"Dr. Amit Singh\", specialization: \"Emergency Medicine\", consultation_fee: \"2000.00\" },\n        { id: \"1499e5f0-6760-4d5e-b8f5-891054dca786\", name: \"Dr. Kavitha Reddy\", specialization: \"Radiology\", consultation_fee: \"1000.00\" },\n        { id: \"77a292f1-da3e-48ef-a7da-88fc651217a4\", name: \"Dr. Priya Sharma\", specialization: \"Cardiology\", consultation_fee: \"1500.00\" },\n        { id: \"5df81b90-1dc7-4095-9c15-727d3084aecb\", name: \"Dr. Rajesh Kumar\", specialization: \"Pediatrics\", consultation_fee: \"1200.00\" },\n        { id: \"172b5e44-9e80-4050-8d39-45d026974b01\", name: \"Dr. Sunita Patel\", specialization: \"Orthopedics\", consultation_fee: \"1800.00\" }\n      ]);\n    }\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const calculateAge = (dateOfBirth: string) => {\n    if (!dateOfBirth) return '';\n    const today = new Date();\n    const birthDate = new Date(dateOfBirth);\n    let age = today.getFullYear() - birthDate.getFullYear();\n    const monthDiff = today.getMonth() - birthDate.getMonth();\n    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {\n      age--;\n    }\n    return age;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    setSubmitStatus('idle');\n\n    try {\n      // Use the real Supabase integration\n      const result = await registerPatient({\n        name: formData.name,\n        dateOfBirth: formData.dateOfBirth,\n        gender: formData.gender,\n        phone: formData.phone,\n        email: formData.email,\n        address: formData.address,\n        emergencyContactName: formData.emergencyContactName,\n        emergencyContactPhone: formData.emergencyContactPhone,\n        bloodGroup: formData.bloodGroup,\n        allergies: formData.allergies,\n        medicalHistory: formData.medicalHistory,\n        insuranceNumber: formData.insuranceNumber,\n        insuranceProvider: formData.insuranceProvider,\n        purposeOfVisit: formData.purposeOfVisit,\n        symptoms: formData.symptoms,\n        doctorId: formData.doctorId,\n        appointmentType: formData.appointmentType,\n        preferredTime: formData.preferredTime\n      });\n\n      console.log('Patient registered successfully:', result);\n      setSubmitStatus('success');\n      \n      // Reset form after success\n      setTimeout(() => {\n        setFormData({\n          name: '',\n          dateOfBirth: '',\n          gender: '',\n          phone: '',\n          email: '',\n          address: '',\n          emergencyContactName: '',\n          emergencyContactPhone: '',\n          bloodGroup: '',\n          allergies: '',\n          medicalHistory: '',\n          insuranceNumber: '',\n          insuranceProvider: '',\n          purposeOfVisit: '',\n          symptoms: '',\n          doctorId: '',\n          appointmentType: 'consultation',\n          preferredTime: ''\n        });\n        generateUHIDAsync(); // Generate new UHID for next patient\n        setSubmitStatus('idle');\n      }, 3000);\n\n    } catch (error) {\n      console.error('Error registering patient:', error);\n      setSubmitStatus('error');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const selectedDoctor = doctors.find(doc => doc.id === formData.doctorId);\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          <Link href=\"/receptionist\" className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\">\n            <ArrowLeft size={20} className=\"text-gray-600\" />\n          </Link>\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">Register New Patient</h1>\n            <p className=\"text-gray-500 mt-1\">Complete patient registration and create appointment</p>\n          </div>\n        </div>\n        \n        {/* Generated UHID Display */}\n        <div className=\"bg-orange-50 border border-orange-200 rounded-xl p-4\">\n          <p className=\"text-sm font-medium text-orange-800\">Generated UHID</p>\n          <p className=\"text-lg font-bold text-orange-900\">{generatedUHID}</p>\n          <p className=\"text-xs text-orange-600\">Patient Email: {generatedUHID.toLowerCase()}@annam.com</p>\n        </div>\n      </div>\n\n      {/* Success/Error Messages */}\n      {submitStatus === 'success' && (\n        <div className=\"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center\">\n          <CheckCircle className=\"h-5 w-5 text-green-500 mr-3\" />\n          <div>\n            <p className=\"font-medium text-green-800\">Patient Registered Successfully!</p>\n            <p className=\"text-sm text-green-600\">UHID: {generatedUHID} | Email: {generatedUHID.toLowerCase()}@annam.com | Password: password</p>\n          </div>\n        </div>\n      )}\n\n      {submitStatus === 'error' && (\n        <div className=\"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center\">\n          <AlertCircle className=\"h-5 w-5 text-red-500 mr-3\" />\n          <div>\n            <p className=\"font-medium text-red-800\">Registration Failed</p>\n            <p className=\"text-sm text-red-600\">Please check the form and try again.</p>\n          </div>\n        </div>\n      )}\n\n      {/* Registration Form */}\n      <form onSubmit={handleSubmit} className=\"space-y-8\">\n        {/* Basic Information */}\n        <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-gray-100\">\n          <div className=\"flex items-center mb-6\">\n            <User className=\"h-5 w-5 text-orange-500 mr-2\" />\n            <h2 className=\"text-lg font-semibold text-gray-900\">Basic Information</h2>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Full Name <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                name=\"name\"\n                value={formData.name}\n                onChange={handleInputChange}\n                required\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n                placeholder=\"Enter patient's full name\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Date of Birth <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"date\"\n                name=\"dateOfBirth\"\n                value={formData.dateOfBirth}\n                onChange={handleInputChange}\n                required\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n              />\n              {formData.dateOfBirth && (\n                <p className=\"text-xs text-gray-500 mt-1\">Age: {calculateAge(formData.dateOfBirth)} years</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Gender <span className=\"text-red-500\">*</span>\n              </label>\n              <select\n                name=\"gender\"\n                value={formData.gender}\n                onChange={handleInputChange}\n                required\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n              >\n                <option value=\"\">Select Gender</option>\n                <option value=\"male\">Male</option>\n                <option value=\"female\">Female</option>\n                <option value=\"other\">Other</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Phone Number <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"tel\"\n                name=\"phone\"\n                value={formData.phone}\n                onChange={handleInputChange}\n                required\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n                placeholder=\"+91-9876543210\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Email (Optional)\n              </label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={handleInputChange}\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n                placeholder=\"patient@example.com\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Blood Group\n              </label>\n              <select\n                name=\"bloodGroup\"\n                value={formData.bloodGroup}\n                onChange={handleInputChange}\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n              >\n                <option value=\"\">Select Blood Group</option>\n                <option value=\"A+\">A+</option>\n                <option value=\"A-\">A-</option>\n                <option value=\"B+\">B+</option>\n                <option value=\"B-\">B-</option>\n                <option value=\"AB+\">AB+</option>\n                <option value=\"AB-\">AB-</option>\n                <option value=\"O+\">O+</option>\n                <option value=\"O-\">O-</option>\n              </select>\n            </div>\n          </div>\n\n          <div className=\"mt-6\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Address\n            </label>\n            <textarea\n              name=\"address\"\n              value={formData.address}\n              onChange={handleInputChange}\n              rows={3}\n              className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n              placeholder=\"Complete address\"\n            />\n          </div>\n        </div>\n\n        {/* Emergency Contact */}\n        <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-gray-100\">\n          <div className=\"flex items-center mb-6\">\n            <Phone className=\"h-5 w-5 text-red-500 mr-2\" />\n            <h2 className=\"text-lg font-semibold text-gray-900\">Emergency Contact</h2>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Emergency Contact Name\n              </label>\n              <input\n                type=\"text\"\n                name=\"emergencyContactName\"\n                value={formData.emergencyContactName}\n                onChange={handleInputChange}\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n                placeholder=\"Contact person name\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Emergency Contact Phone\n              </label>\n              <input\n                type=\"tel\"\n                name=\"emergencyContactPhone\"\n                value={formData.emergencyContactPhone}\n                onChange={handleInputChange}\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n                placeholder=\"+91-9876543210\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Medical Information */}\n        <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-gray-100\">\n          <div className=\"flex items-center mb-6\">\n            <Heart className=\"h-5 w-5 text-pink-500 mr-2\" />\n            <h2 className=\"text-lg font-semibold text-gray-900\">Medical Information</h2>\n          </div>\n          \n          <div className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Known Allergies\n              </label>\n              <textarea\n                name=\"allergies\"\n                value={formData.allergies}\n                onChange={handleInputChange}\n                rows={2}\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n                placeholder=\"List any known allergies (medications, food, environmental)\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Medical History\n              </label>\n              <textarea\n                name=\"medicalHistory\"\n                value={formData.medicalHistory}\n                onChange={handleInputChange}\n                rows={3}\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n                placeholder=\"Previous surgeries, chronic conditions, medications\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Insurance Information */}\n        <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-gray-100\">\n          <div className=\"flex items-center mb-6\">\n            <FileText className=\"h-5 w-5 text-blue-500 mr-2\" />\n            <h2 className=\"text-lg font-semibold text-gray-900\">Insurance Information (Optional)</h2>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Insurance Number\n              </label>\n              <input\n                type=\"text\"\n                name=\"insuranceNumber\"\n                value={formData.insuranceNumber}\n                onChange={handleInputChange}\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n                placeholder=\"Insurance policy number\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Insurance Provider\n              </label>\n              <input\n                type=\"text\"\n                name=\"insuranceProvider\"\n                value={formData.insuranceProvider}\n                onChange={handleInputChange}\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n                placeholder=\"Insurance company name\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Visit Information */}\n        <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-gray-100\">\n          <div className=\"flex items-center mb-6\">\n            <Stethoscope className=\"h-5 w-5 text-green-500 mr-2\" />\n            <h2 className=\"text-lg font-semibold text-gray-900\">Visit Information</h2>\n          </div>\n          \n          <div className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Purpose of Visit <span className=\"text-red-500\">*</span>\n                </label>\n                <select\n                  name=\"purposeOfVisit\"\n                  value={formData.purposeOfVisit}\n                  onChange={handleInputChange}\n                  required\n                  className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n                >\n                  <option value=\"\">Select Purpose</option>\n                  <option value=\"consultation\">General Consultation</option>\n                  <option value=\"follow_up\">Follow-up Visit</option>\n                  <option value=\"emergency\">Emergency</option>\n                  <option value=\"checkup\">Routine Checkup</option>\n                  <option value=\"surgery\">Surgery Consultation</option>\n                  <option value=\"lab_test\">Lab Test</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Appointment Type\n                </label>\n                <select\n                  name=\"appointmentType\"\n                  value={formData.appointmentType}\n                  onChange={handleInputChange}\n                  className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n                >\n                  <option value=\"consultation\">Consultation</option>\n                  <option value=\"follow_up\">Follow-up</option>\n                  <option value=\"emergency\">Emergency</option>\n                  <option value=\"checkup\">Checkup</option>\n                </select>\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Select Doctor <span className=\"text-red-500\">*</span>\n              </label>\n              <select\n                name=\"doctorId\"\n                value={formData.doctorId}\n                onChange={handleInputChange}\n                required\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n              >\n                <option value=\"\">Choose a doctor</option>\n                {doctors.map((doctor) => (\n                  <option key={doctor.id} value={doctor.id}>\n                    {doctor.name} - {doctor.specialization} (₹{doctor.consultation_fee})\n                  </option>\n                ))}\n              </select>\n              {selectedDoctor && (\n                <div className=\"mt-2 p-3 bg-blue-50 rounded-lg\">\n                  <p className=\"text-sm text-blue-800\">\n                    <strong>{selectedDoctor.name}</strong> - {selectedDoctor.specialization}\n                  </p>\n                  <p className=\"text-sm text-blue-600\">Consultation Fee: ₹{selectedDoctor.consultation_fee}</p>\n                </div>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Current Symptoms\n              </label>\n              <textarea\n                name=\"symptoms\"\n                value={formData.symptoms}\n                onChange={handleInputChange}\n                rows={3}\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n                placeholder=\"Describe current symptoms or concerns\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Preferred Appointment Time\n              </label>\n              <input\n                type=\"datetime-local\"\n                name=\"preferredTime\"\n                value={formData.preferredTime}\n                onChange={handleInputChange}\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Submit Button */}\n        <div className=\"flex justify-end space-x-4\">\n          <Link \n            href=\"/receptionist\"\n            className=\"px-6 py-3 border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-colors\"\n          >\n            Cancel\n          </Link>\n          <button\n            type=\"submit\"\n            disabled={isSubmitting}\n            className={`flex items-center px-6 py-3 rounded-xl font-medium transition-all duration-200 ${\n              isSubmitting \n                ? 'bg-gray-400 cursor-not-allowed' \n                : 'bg-orange-500 hover:bg-orange-600 shadow-sm hover:shadow-md'\n            } text-white`}\n          >\n            {isSubmitting ? (\n              <>\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                Registering Patient...\n              </>\n            ) : (\n              <>\n                <Save size={16} className=\"mr-2\" />\n                Register Patient\n              </>\n            )}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n} "],"names":[],"mappings":"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","debugId":null}}]
}